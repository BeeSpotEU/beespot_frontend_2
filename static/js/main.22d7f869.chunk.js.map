{"version":3,"sources":["components/pick-location/bee-logo.svg","components/show-locations/bee-logo.svg","utility/store.js","components/audience/index.js","components/foodsources/index.js","components/production/index.js","utility/socket.js","components/presentation/index.js","components/location-form/index.js","components/pick-location/pin.js","components/pick-location/index.js","components/show-locations/pin.js","components/show-locations/index.js","components/presentation/session.js","components/participant/index.js","components/header/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","ContextStore","React","initialState","channel","selfCreatedLocations","Map","locations","socket","session","presence","reducer","state","action","produce","draft","type","console","log","set","location","id","Consumer","InputGroup","Group","AudienceForm","Option","create","props","getFieldDecorator","form","loading","onSubmit","e","preventDefault","validateFields","err","values","className","Item","label","colon","rules","required","message","placeholder","compact","htmlType","FoodSources","min","max","defaultValue","Production","setupChannel","channelName","dispatch","join","receive","error","Presence","onSync","list","setupChannelPresenter","on","payload","body","leaveChannel","leave","Presentation","history","useContext","useEffect","onCreatedSession","setupChannelLobby","push","onClick","ButtonGroup","LocationForm","handleAddLocation","pinStyle","pointerEvents","Pin","src","SVG","style","PureComponent","PickLocation","match","params","useState","latitude","longitude","zoom","viewport","setViewport","mapRef","setMapRef","currentSession","setupChannelParticipant","onDragEnd","lngLat","ref","mapStyle","width","height","onViewportChange","viewport2","Array","from","map","parseFloat","key","offsetTop","offsetLeft","draggable","shape","icon","size","center","getMap","getCenter","lat","lng","ShowLocations","overflow","position","right","theme","Session","Participant","enterButton","onSearch","AntdHeader","Header","participants","live","isArray","reduce","acc","participantList","metas","length","Content","App","Socket","process","user_id","connect","onClose","marginTop","path","exact","component","isLocalhost","Boolean","window","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","children","value","Provider","document","getElementById","URL","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.22d7f869.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bee-logo.9a5c4dbf.svg\";","module.exports = __webpack_public_path__ + \"static/media/bee-logo.9a5c4dbf.svg\";","import * as React from \"react\";\nimport produce from \"immer\";\nimport { Socket } from \"phoenix\";\n\nconst ContextStore = React.createContext();\n\nconst initialState = {\n  channel: null,\n  selfCreatedLocations: new Map(),\n  locations: new Map(),\n  socket: null,\n  session: null,\n  presence: []\n};\n\nconst reducer = (state, action) => {\n  return produce(state, draft => {\n    switch (action.type) {\n      case \"setPresence\":\n        console.log(action.presence);\n        draft.presence = action.presence;\n        break;\n      case \"setSocket\":\n        draft.socket = action.socket;\n        break;\n      case \"setChannel\":\n        draft.channel = action.channel;\n        break;\n      case \"newLocation\":\n        draft.locations = new Map(\n          draft.locations.set(action.location.id, action.location)\n        );\n        break;\n      case \"createdLocation\":\n        draft.selfCreatedLocations = new Map(\n          draft.selfCreatedLocations.set(action.location.id, action.location)\n        );\n        break;\n      case \"currentSession\":\n        draft.session = action.session;\n        break;\n      default:\n        break;\n    }\n  });\n};\n\nconst ContextStoreProvider = ({ children }) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  const value = { state, dispatch };\n\n  return (\n    <ContextStore.Provider value={value}>{children}</ContextStore.Provider>\n  );\n};\n\nconst ContextStoreConsumer = ContextStore.Consumer;\n\nexport { ContextStore, ContextStoreProvider, ContextStoreConsumer };\n","import React from \"react\";\r\nimport { Form, Input, Icon, Button, DatePicker, Select } from \"antd\";\r\nconst InputGroup = Input.Group;\r\n\r\nconst { Option } = Select;\r\n\r\nconst AddAudienceForm = props => {\r\n  const {\r\n    form: { getFieldDecorator },\r\n    // handleAddMachtiging,\r\n    loading\r\n  } = props;\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        // handleAddMachtiging(values);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit} className=\"audience-form\">\r\n      <Form.Item label=\"Naam\" colon={false}>\r\n        {getFieldDecorator(\"Naam\", {\r\n          rules: [\r\n            {\r\n              required: true,\r\n              message: \"Vul hier je naam in :)\"\r\n            }\r\n          ]\r\n        })(<Input placeholder=\"Naam\" />)}\r\n      </Form.Item>\r\n      <InputGroup compact>\r\n      <Form.Item label=\"Postcode\" colon={false}>\r\n        {getFieldDecorator(\"Postcode\", {\r\n          rules: [\r\n            {\r\n              required: false,\r\n              message: \"Een postcode is optioneel.\"\r\n            }\r\n          ]\r\n        })(<Input placeholder=\"Postcode\" />)}\r\n      </Form.Item>\r\n      <Form.Item label=\"Huisnummer\" colon={false}>\r\n        {getFieldDecorator(\"Huisnummer\", {\r\n          rules: [\r\n            {\r\n              required: false,\r\n              message: \"Een huisnummer is optioneel.\"\r\n            }\r\n          ]\r\n        })(<Input placeholder=\"Huisnummer\" />)}\r\n      </Form.Item>\r\n      </InputGroup>\r\n      <Form.Item>\r\n        <Button\r\n          loading={loading}\r\n          type=\"primary\"\r\n          htmlType=\"submit\"\r\n          className=\"login-form-button\"\r\n        >\r\n          submit\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n};\r\nexport const AudienceForm = Form.create()(AddAudienceForm);\r\n","import React from \"react\";\r\nimport { Form, Input, Icon, Button, Select, Slider } from \"antd\";\r\nconst InputGroup = Input.Group;\r\n\r\nconst { Option } = Select;\r\n\r\nconst SourceExpectationForm = props => {\r\n  const {\r\n    form: { getFieldDecorator },\r\n    // handleAddMachtiging,\r\n    loading\r\n  } = props;\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        // handleAddMachtiging(values);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit} className=\"source-expectation-form\">\r\n      <Form.Item label=\"Naam\" colon={false}>\r\n        // Get name from server \r\n        {getFieldDecorator(\"Naam\", {\r\n          rules: [\r\n            {\r\n              required: true,\r\n              message: \"Vul hier je naam in :)\"\r\n            }\r\n          ]\r\n        })(<Input placeholder=\"Naam\" />)}\r\n      </Form.Item>\r\n      <Form.Item label=\"Dracht hoeveelheid\" colon={false}>\r\n        {getFieldDecorator(\"Dracht\", {\r\n          rules: [\r\n            {\r\n              required: true,\r\n              message: \"Vul hier een schatting van de dracht in.\"\r\n            }\r\n          ],\r\n        })(<Slider min={1} max={10} defaultValue={5} />)}\r\n      </Form.Item>\r\n      <Form.Item label=\"Diversiteit\" colon={false}>\r\n        {getFieldDecorator(\"Diversiteit\", {\r\n          rules: [\r\n            {\r\n              required: true,\r\n              message: \"Vul hier een schatting van de diversiteit gedurende het jaar in.\"\r\n            }\r\n          ],\r\n        })(<Slider min={1} max={10} defaultValue={5} />)}\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Button\r\n          loading={loading}\r\n          type=\"primary\"\r\n          htmlType=\"submit\"\r\n          className=\"login-form-button\"\r\n        >\r\n          submit\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n};\r\nexport const FoodSources = Form.create()(SourceExpectationForm);\r\n","import React from \"react\";\r\nimport { Form, Input, InputNumber, Icon, Button, Select, Slider } from \"antd\";\r\nconst InputGroup = Input.Group;\r\n\r\nconst { Option } = Select;\r\n\r\nconst ProductionForm = props => {\r\n  const {\r\n    form: { getFieldDecorator },\r\n    // handleAddMachtiging,\r\n    loading\r\n  } = props;\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        // handleAddMachtiging(values);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit} className=\"source-expectation-form\">\r\n      <Form.Item label=\"Naam\" colon={false}>\r\n        // Get name from server \r\n        {getFieldDecorator(\"Naam\", {\r\n          rules: [\r\n            {\r\n              required: true,\r\n              message: \"Vul hier je naam in :)\"\r\n            }\r\n          ]\r\n        })(<Input placeholder=\"Naam\" />)}\r\n      </Form.Item>\r\n      <Form.Item label=\"Opbrengst honing in kilo's honing afgelopen jaar\" colon={false}>\r\n        {getFieldDecorator(\"Honing\", {\r\n          rules: [\r\n            { \r\n              required: true,\r\n              message: \"Vul hier het aantal kilo's honing van afgelopen jaar in.\"\r\n            }\r\n          ]\r\n        })(<InputNumber min={0} max={500} />)}\r\n      </Form.Item>\r\n      <Form.Item label=\"Aantal kilo suiker gevoerd in het afgelopen jaar\" colon={false}>\r\n        {getFieldDecorator(\"Suiker\", {\r\n          rules: [\r\n            { \r\n              required: true,\r\n              message: \"Vul hier het aantal kilo's suiker van afgelopen jaar in.\"\r\n            }\r\n          ]\r\n        })(<InputNumber min={0} max={99} />)}\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Button\r\n          loading={loading}\r\n          type=\"primary\"\r\n          htmlType=\"submit\"\r\n          className=\"login-form-button\"\r\n        >\r\n          submit\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n};\r\nexport const Production = Form.create()(ProductionForm);\r\n","import { Presence } from \"phoenix\";\n\nexport const setupChannel = (socket, channelName, dispatch) => {\n  const channel = socket.channel(channelName, {});\n\n  channel\n    .join()\n    .receive(\"ok\", () => dispatch({ type: \"setChannel\", channel: channel }))\n    .receive(\"error\", () => console.error(\"Connection error\"));\n\n  let presence = new Presence(channel);\n\n  presence.onSync(() => {\n    // console.log(1234);\n    dispatch({ type: \"setPresence\", presence: presence.list() });\n  });\n\n  return channel;\n};\n\nexport const setupChannelLobby = (\n  socket,\n  dispatch,\n  onCreatedSession = session => {}\n) => {\n  const channel = setupChannel(socket, \"locations:lobby\", dispatch);\n\n  channel.on(\"created_session\", payload => {\n    onCreatedSession(payload.body);\n  });\n\n  return channel;\n};\n\nexport const setupChannelParticipant = (socket, session, dispatch) => {\n  const channel = setupChannel(socket, `locations:${session}`, dispatch);\n\n  dispatch({ type: \"currentSession\", session });\n\n  channel.on(\"created_location\", payload => {\n    dispatch({ type: \"createdLocation\", location: payload.body });\n  });\n\n  return channel;\n};\n\nexport const setupChannelPresenter = (socket, session, dispatch) => {\n  const channel = setupChannel(socket, `locations:${session}`, dispatch);\n\n  dispatch({ type: \"currentSession\", session });\n\n  channel.on(\"new_location\", payload => {\n    dispatch({ type: \"newLocation\", location: payload.body });\n  });\n\n  return channel;\n};\n\nexport const leaveChannel = (channel, dispatch) => {\n  channel.leave();\n  dispatch({ type: \"currentSession\", session: null });\n  dispatch({ type: \"setChannel\", channel: null });\n};\n","import React, { useContext, useEffect } from \"react\";\nimport { Button } from \"antd\";\nimport { ContextStore } from \"utility/store\";\nimport { setupChannelLobby, leaveChannel } from \"utility/socket\";\n\nexport const Presentation = ({ history }) => {\n  const { state, dispatch } = useContext(ContextStore);\n\n  const onClickButton = () => {\n    state.channel.push(\"create_session\", {});\n  };\n\n  useEffect(() => {\n    if (state.socket) {\n      if (state.channel) {\n        leaveChannel(state.channel, dispatch);\n      }\n      setupChannelLobby(state.socket, dispatch, session => {\n        history.push(`/presentation/${session}`);\n      });\n    }\n  }, [state.socket]);\n\n  return (\n    <div>\n      <Button onClick={onClickButton}>CreÃ«er sessie</Button>\n      {state.session && <p>Sessie: {state.session}</p>}\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Form, Input, InputNumber, Icon, Button } from \"antd\";\n\nconst ButtonGroup = Button.Group;\n\nconst AddLocationForm = props => {\n  const {\n    form: { getFieldDecorator },\n    handleAddLocation,\n    loading\n  } = props;\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    props.form.validateFields((err, values) => {\n      if (!err) {\n        handleAddLocation(values);\n      }\n    });\n  };\n\n  return (\n    <Form onSubmit={handleSubmit} className=\"location-form\">\n      <Form.Item label=\"Bijenstandnaam\" colon={false}>\n        {getFieldDecorator(\"name\", {\n          rules: [\n            {\n              required: true,\n              message: \"Vul hier de naam van de bijenstand in.\"\n            }\n          ]\n        })(<Input placeholder=\"Bijenstandnaam\" />)}\n      </Form.Item>\n      <Form.Item label=\"Aantal volken in afgelopen jaar\" colon={false}>\n        {getFieldDecorator(\"hives\", {\n          rules: [\n            {\n              required: true,\n              message: \"Vul hier het aantal volken van afgelopen jaar in.\"\n            }\n          ]\n        })(<InputNumber min={0} max={99} />)}\n      </Form.Item>\n      <Form.Item label=\"Lengtegraad\" colon={false}>\n        {getFieldDecorator(\"longitude\", {\n          rules: [\n            {\n              required: true,\n              message: \"Vul een lengtegraad in!\"\n            }\n          ]\n        })(<Input placeholder=\"Lengtegraad\" />)}\n      </Form.Item>\n      <Form.Item label=\"Breedtegraad\" colon={false}>\n        {getFieldDecorator(\"latitude\", {\n          rules: [\n            {\n              required: true,\n              message: \"Vul een breedtegraad in!\"\n            }\n          ]\n        })(<Input placeholder=\"Breedtegraad\" />)}\n      </Form.Item>\n      <ButtonGroup>\n        <Button\n          loading={loading}\n          type=\"danger\"\n          htmlType=\"submit\"\n          className=\"login-form-button\"\n        >\n          Ik heb geen bijenstand\n        </Button>\n        <Button\n          loading={loading}\n          type=\"default\"\n          htmlType=\"submit\"\n          className=\"login-form-button\"\n        >\n          Nog een stand...\n        </Button>\n        <Button\n          loading={loading}\n          type=\"primary\"\n          htmlType=\"submit\"\n          className=\"login-form-button\"\n        >\n          Klaar\n        </Button>\n      </ButtonGroup>\n    </Form>\n  );\n};\nexport const LocationForm = Form.create()(AddLocationForm);\n","import React, { PureComponent } from \"react\";\nimport SVG from \"./bee-logo.svg\";\n\nconst pinStyle = {\n  pointerEvents: \"none\"\n};\n\nexport default class Pin extends PureComponent {\n  render() {\n    return <img src={SVG} style={pinStyle}></img>;\n  }\n}\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { LocationForm } from \"components/location-form\";\nimport { ContextStore } from \"utility/store\";\nimport ReactMapGL, { Marker } from \"react-map-gl\";\nimport mapboxgl from \"mapbox-gl\";\nimport \"./styles.css\";\nimport Pin from \"./pin\";\nimport { Button } from \"antd\";\nimport { leaveChannel, setupChannelParticipant } from \"utility/socket\";\n\nexport const PickLocation = ({\n  match: {\n    params: { session }\n  }\n}) => {\n  const { state, dispatch } = useContext(ContextStore);\n  const [viewport, setViewport] = useState({\n    latitude: 52.119,\n    longitude: 5.111,\n    zoom: 8\n  });\n\n  const [mapRef, setMapRef] = useState();\n  // const [marker, setMarker] = useState({\n  //   longitude: 5.111,\n  //   latitude: 52.119\n  // });\n\n  const [placing, setPlacing] = useState(false);\n\n  useEffect(() => {\n    if (state.socket && session && state.currentSession !== session) {\n      if (state.channel) {\n        leaveChannel(state.channel, dispatch);\n      }\n      setupChannelParticipant(state.socket, session, dispatch);\n    }\n  }, [state.socket, session]);\n\n  const onDragEnd = location => e => {\n    dispatch({\n      type: \"createdLocation\",\n      location: {\n        ...location,\n        longitude: `${e.lngLat[0]}`,\n        latitude: `${e.lngLat[1]}`\n      }\n    });\n    if (state.channel) {\n      state.channel.push(\"add_location\", {\n        body: {\n          ...location,\n          longitude: `${e.lngLat[0]}`,\n          latitude: `${e.lngLat[1]}`\n        }\n      });\n    }\n  };\n\n  const onClickButton = () => {\n    const map = mapRef.getMap();\n    const center = map.getCenter();\n\n    if (state.channel) {\n      state.channel.push(\"add_location\", {\n        body: {\n          latitude: `${center.lat}`,\n          longitude: `${center.lng}`\n        }\n      });\n    }\n  };\n\n  const updateLocation = () => {};\n\n  return (\n    <div className=\"pick-locations mapbox-wrapper\">\n      <ReactMapGL\n        ref={ref => setMapRef(ref)}\n        mapStyle=\"//mvt.opengeo.nl/basemap-style.json\"\n        {...viewport}\n        width=\"100%\"\n        height=\"100%\"\n        onViewportChange={viewport2 => setViewport(viewport2)}\n      >\n        {Array.from(state.selfCreatedLocations.values()).map(location => {\n          const longitude = parseFloat(location.longitude);\n          const latitude = parseFloat(location.latitude);\n          return (\n            <Marker\n              key={location.id}\n              longitude={longitude}\n              latitude={latitude}\n              offsetTop={-39}\n              offsetLeft={-23}\n              draggable\n              // onDragStart={this._onMarkerDragStart}\n              // onDrag={this._onMarkerDrag}\n              onDragEnd={onDragEnd(location)}\n            >\n              <Pin></Pin>\n            </Marker>\n          );\n        })}\n      </ReactMapGL>\n      <Button\n        type=\"primary\"\n        shape=\"circle\"\n        icon=\"plus\"\n        size=\"large\"\n        onClick={onClickButton}\n        className=\"add_location\"\n      />\n    </div>\n  );\n};\n","import React, { PureComponent } from \"react\";\nimport SVG from \"./bee-logo.svg\";\n\nconst pinStyle = {\n  pointerEvents: \"none\"\n};\n\nexport default class Pin extends PureComponent {\n  render() {\n    return <img src={SVG} style={pinStyle}></img>;\n  }\n}\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { LocationForm } from \"components/location-form\";\nimport { ContextStore } from \"utility/store\";\nimport ReactMapGL, { Marker } from \"react-map-gl\";\nimport mapboxgl from \"mapbox-gl\";\nimport \"./styles.css\";\nimport Pin from \"./pin\";\nimport { Button } from \"antd\";\nimport { leaveChannel, setupChannelPresenter } from \"utility/socket\";\nimport Sider from \"antd/lib/layout/Sider\";\n\nexport const ShowLocations = ({\n  match: {\n    params: { session }\n  }\n}) => {\n  const { state, dispatch } = useContext(ContextStore);\n  const [viewport, setViewport] = useState({\n    latitude: 52.119,\n    longitude: 5.111,\n    zoom: 8\n  });\n\n  useEffect(() => {\n    if (state.socket && session && state.currentSession !== session) {\n      if (state.channel) {\n        leaveChannel(state.channel, dispatch);\n      }\n      setupChannelPresenter(state.socket, session, dispatch);\n    }\n  }, [state.socket, session]);\n\n  const [mapRef, setMapRef] = useState();\n\n  return (\n    <>\n      <Sider\n        style={{\n          overflow: \"auto\",\n          height: \"100%\",\n          position: \"fixed\",\n          right: 0\n        }}\n        theme=\"light\"\n        width={400}\n      ></Sider>\n      <div className=\"show-locations mapbox-wrapper\">\n        <ReactMapGL\n          ref={ref => setMapRef(ref)}\n          mapStyle=\"//mvt.opengeo.nl/basemap-style.json\"\n          {...viewport}\n          width=\"100%\"\n          height=\"100%\"\n          onViewportChange={viewport2 => setViewport(viewport2)}\n        >\n          {Array.from(state.locations.values()).map(location => {\n            const longitude = parseFloat(location.longitude);\n            const latitude = parseFloat(location.latitude);\n            return (\n              <Marker\n                key={location.id}\n                longitude={longitude}\n                latitude={latitude}\n                offsetTop={-39}\n                offsetLeft={-23}\n              >\n                <Pin></Pin>\n              </Marker>\n            );\n          })}\n        </ReactMapGL>\n      </div>\n    </>\n  );\n};\n","import React, { useEffect, useContext } from \"react\";\nimport { ContextStore } from \"utility/store\";\nimport { leaveChannel, setupChannelPresenter } from \"utility/socket\";\nimport { Button } from \"antd\";\n\nexport const Session = ({\n  match: {\n    params: { session }\n  },\n  history\n}) => {\n  const { state, dispatch } = useContext(ContextStore);\n\n  const onClickButton = () => {\n    history.push(`/presentation/${session}/locations`);\n  };\n\n  useEffect(() => {\n    if (state.socket && session && state.currentSession !== session) {\n      if (state.channel) {\n        leaveChannel(state.channel, dispatch);\n      }\n      setupChannelPresenter(state.socket, session, dispatch);\n    }\n  }, [state.socket, session]);\n\n  return (\n    <div>\n      <p>{session}</p>\n      <Button onClick={onClickButton}>Bekijk locaties</Button>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Input } from \"antd\";\nimport Search from \"antd/lib/input/Search\";\nimport \"./styles.scss\";\n\nexport const Participant = ({ history }) => {\n  const goToSession = session => {\n    history.push(`/${session}`);\n  };\n\n  return (\n    <div className=\"center\">\n      <h1>Welcome!</h1>\n      <h2>Enter the session code</h2>\n      <Search\n        className=\"search-session\"\n        placeholder=\"Vul de sessie code in\"\n        enterButton=\"Deelnemen\"\n        onSearch={goToSession}\n      ></Search>\n    </div>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { useRouteMatch } from \"react-router\";\nimport { Layout, Menu } from \"antd\";\nimport \"./styles.scss\";\nimport { ContextStore } from \"utility/store\";\n\nconst { Header: AntdHeader } = Layout;\n\nconst getParticipants = participants => {\n  if (Array.isArray(participants)) {\n    return participants.reduce((acc, participantList) => {\n      return acc + participantList.metas.length;\n    }, 0);\n  }\n  return 0;\n};\n\nexport const Header = () => {\n  const { state } = useContext(ContextStore);\n\n  const live = getParticipants(state.presence);\n\n  return (\n    <AntdHeader className=\"header\">\n      <div className=\"logo\" />\n      <span className=\"live\">Live: {live} participants</span>\n      {/* <Menu\n        theme=\"light\"\n        mode=\"horizontal\"\n        defaultSelectedKeys={[\"2\"]}\n        style={{ lineHeight: \"64px\" }}\n      >\n        <Menu.Item key=\"1\">nav 1</Menu.Item>\n        <Menu.Item key=\"2\">nav 2</Menu.Item>\n        <Menu.Item key=\"3\">nav 3</Menu.Item>\n      </Menu> */}\n    </AntdHeader>\n  );\n};\n","import React, { useEffect, useState, useContext } from \"react\";\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\nimport \"./App.scss\";\nimport { ContextStore } from \"utility/store\";\nimport { Socket } from \"phoenix\";\n\nimport { AudienceForm } from \"components/audience\";\nimport { FoodSources } from \"components/foodsources\";\nimport { Production } from \"components/production\";\nimport { Presentation } from \"components/presentation\";\nimport { LocationForm } from \"components/location-form\";\nimport { PickLocation } from \"components/pick-location\";\nimport { ShowLocations } from \"components/show-locations\";\nimport { Session } from \"components/presentation/session\";\nimport { Participant } from \"components/participant\";\nimport { Header } from \"components/header\";\nimport { Layout } from \"antd\";\n\nconst { Content } = Layout;\n\nfunction App() {\n  const { state, dispatch } = useContext(ContextStore);\n\n  useEffect(() => {\n    if (!state.socket) {\n      const socket = new Socket(process.env.REACT_APP_SOCKET_URL, {\n        params: { user_id: \"123\" }\n      });\n      socket.connect();\n      socket.onClose(e => dispatch({ type: \"setSocket\", socket: null }));\n      dispatch({ type: \"setSocket\", socket });\n    }\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <Layout className=\"layout\">\n        <Header></Header>\n        <Content style={{ marginTop: 24, height: \"calc(100vh - 64px)\" }}>\n          <Router>\n            <Switch>\n              <Route path=\"/\" exact component={Participant} />\n              <Route path=\"/presentation\" exact component={Presentation} />\n              <Route path=\"/:session\" exact component={PickLocation} />\n              <Route path=\"/presentation/:session\" exact component={Session} />\n              <Route\n                path=\"/presentation/:session/locations\"\n                exact\n                component={ShowLocations}\n              />\n\n              <Route path=\"/audience\" exact component={AudienceForm} />\n              <Route path=\"/foodsources\" exact component={FoodSources} />\n              <Route path=\"/location\" exact component={LocationForm} />\n              <Route path=\"/production\" exact component={Production} />\n            </Switch>\n          </Router>\n        </Content>\n      </Layout>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { ContextStoreProvider } from \"utility/store\";\n\nReactDOM.render(\n  <ContextStoreProvider>\n    <App />\n  </ContextStoreProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}