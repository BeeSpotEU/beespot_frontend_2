(window.webpackJsonpbeespot=window.webpackJsonpbeespot||[]).push([[0],{156:function(e,a,t){e.exports=t.p+"static/media/bee-logo.9a5c4dbf.svg"},159:function(e,a,t){e.exports=t(312)},164:function(e,a,t){},165:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},166:function(e,a,t){},310:function(e,a,t){},312:function(e,a,t){"use strict";t.r(a);var n=t(1),o=t.n(n),r=t(10),l=t.n(r),c=(t(164),t(157)),i=t(49),s=(t(165),t(166),t(144)),m=t(316),u=t(315),d=t(313),p=t(91),f=m.a.Group,g=(u.a.Option,d.a.create()(function(e){var a=e.form.getFieldDecorator,t=e.loading;return o.a.createElement(d.a,{onSubmit:function(a){a.preventDefault(),e.form.validateFields(function(e,a){})},className:"audience-form"},o.a.createElement(d.a.Item,{label:"Naam",colon:!1},a("Naam",{rules:[{required:!0,message:"Vul hier je naam in :)"}]})(o.a.createElement(m.a,{placeholder:"Naam"}))),o.a.createElement(f,{compact:!0},o.a.createElement(d.a.Item,{label:"Postcode",colon:!1},a("Postcode",{rules:[{required:!1,message:"Een postcode is optioneel."}]})(o.a.createElement(m.a,{placeholder:"Postcode"}))),o.a.createElement(d.a.Item,{label:"Huisnummer",colon:!1},a("Huisnummer",{rules:[{required:!1,message:"Een huisnummer is optioneel."}]})(o.a.createElement(m.a,{placeholder:"Huisnummer"})))),o.a.createElement(d.a.Item,null,o.a.createElement(p.a,{loading:t,type:"primary",htmlType:"submit",className:"login-form-button"},"submit")))})),h=t(314),b=(m.a.Group,u.a.Option,d.a.create()(function(e){var a=e.form.getFieldDecorator,t=e.loading;return o.a.createElement(d.a,{onSubmit:function(a){a.preventDefault(),e.form.validateFields(function(e,a){})},className:"source-expectation-form"},o.a.createElement(d.a.Item,{label:"Naam",colon:!1},"// Get name from server",a("Naam",{rules:[{required:!0,message:"Vul hier je naam in :)"}]})(o.a.createElement(m.a,{placeholder:"Naam"}))),o.a.createElement(d.a.Item,{label:"Dracht hoeveelheid",colon:!1},a("Dracht",{rules:[{required:!0,message:"Vul hier een schatting van de dracht in."}]})(o.a.createElement(h.a,{min:1,max:10,defaultValue:5}))),o.a.createElement(d.a.Item,{label:"Diversiteit",colon:!1},a("Diversiteit",{rules:[{required:!0,message:"Vul hier een schatting van de diversiteit gedurende het jaar in."}]})(o.a.createElement(h.a,{min:1,max:10,defaultValue:5}))),o.a.createElement(d.a.Item,null,o.a.createElement(p.a,{loading:t,type:"primary",htmlType:"submit",className:"login-form-button"},"submit")))})),E=t(317),v=(m.a.Group,u.a.Option,d.a.create()(function(e){var a=e.form.getFieldDecorator,t=e.loading;return o.a.createElement(d.a,{onSubmit:function(a){a.preventDefault(),e.form.validateFields(function(e,a){})},className:"source-expectation-form"},o.a.createElement(d.a.Item,{label:"Naam",colon:!1},"// Get name from server",a("Naam",{rules:[{required:!0,message:"Vul hier je naam in :)"}]})(o.a.createElement(m.a,{placeholder:"Naam"}))),o.a.createElement(d.a.Item,{label:"Opbrengst honing in kilo's honing afgelopen jaar",colon:!1},a("Honing",{rules:[{required:!0,message:"Vul hier het aantal kilo's honing van afgelopen jaar in."}]})(o.a.createElement(E.a,{min:0,max:500}))),o.a.createElement(d.a.Item,{label:"Aantal kilo suiker gevoerd in het afgelopen jaar",colon:!1},a("Suiker",{rules:[{required:!0,message:"Vul hier het aantal kilo's suiker van afgelopen jaar in."}]})(o.a.createElement(E.a,{min:0,max:99}))),o.a.createElement(d.a.Item,null,o.a.createElement(p.a,{loading:t,type:"primary",htmlType:"submit",className:"login-form-button"},"submit")))})),y=function(){return o.a.createElement("p",null,"hello")},j=p.a.Group,O=d.a.create()(function(e){var a=e.form.getFieldDecorator,t=e.handleAddLocation,n=e.loading;return o.a.createElement(d.a,{onSubmit:function(a){a.preventDefault(),e.form.validateFields(function(e,a){e||t(a)})},className:"location-form"},o.a.createElement(d.a.Item,{label:"Bijenstandnaam",colon:!1},a("name",{rules:[{required:!0,message:"Vul hier de naam van de bijenstand in."}]})(o.a.createElement(m.a,{placeholder:"Bijenstandnaam"}))),o.a.createElement(d.a.Item,{label:"Aantal volken in afgelopen jaar",colon:!1},a("hives",{rules:[{required:!0,message:"Vul hier het aantal volken van afgelopen jaar in."}]})(o.a.createElement(E.a,{min:0,max:99}))),o.a.createElement(d.a.Item,{label:"Lengtegraad",colon:!1},a("longitude",{rules:[{required:!0,message:"Vul een lengtegraad in!"}]})(o.a.createElement(m.a,{placeholder:"Lengtegraad"}))),o.a.createElement(d.a.Item,{label:"Breedtegraad",colon:!1},a("latitude",{rules:[{required:!0,message:"Vul een breedtegraad in!"}]})(o.a.createElement(m.a,{placeholder:"Breedtegraad"}))),o.a.createElement(j,null,o.a.createElement(p.a,{loading:n,type:"danger",htmlType:"submit",className:"login-form-button"},"Ik heb geen bijenstand"),o.a.createElement(p.a,{loading:n,type:"default",htmlType:"submit",className:"login-form-button"},"Nog een stand..."),o.a.createElement(p.a,{loading:n,type:"primary",htmlType:"submit",className:"login-form-button"},"Klaar")))}),w=t(12),k=t(154),x=n.createContext(),N={channel:null,selfCreatedLocations:new Map,locations:new Map},C=function(e,a){return Object(k.a)(e,function(e){switch(a.type){case"setChannel":e.channel=a.channel;break;case"newLocation":e.locations=new Map(e.locations.set(a.location.id,a.location));break;case"createdLocation":e.selfCreatedLocations=new Map(e.selfCreatedLocations.set(a.location.id,a.location))}})},I=(x.Consumer,function(){var e=Object(n.useContext)(x),a=e.state;e.dispatch;return o.a.createElement(O,{handleAddLocation:function(e){a.channel&&a.channel.push("add_location",{body:e})}})}),D=function(){return o.a.createElement("p",null,"world")},L=t(2),V=t(124),q=(t(116),t(310),t(7)),P=t(6),S=t(16),F=t(14),_=t(17),T=t(156),A=t.n(T),B={pointerEvents:"none"},G=function(e){function a(){return Object(q.a)(this,a),Object(S.a)(this,Object(F.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(P.a)(a,[{key:"render",value:function(){return o.a.createElement("img",{src:A.a,style:B})}}]),a}(n.PureComponent);function M(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function H(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?M(t,!0).forEach(function(a){Object(L.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):M(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var z=function(){var e=Object(n.useContext)(x),a=e.state,t=(e.dispatch,Object(n.useState)({latitude:52.119,longitude:5.111,zoom:8})),r=Object(w.a)(t,2),l=r[0],c=r[1],i=Object(n.useState)(),s=Object(w.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(!1),f=Object(w.a)(d,2),g=(f[0],f[1],function(e){return function(t){a.channel&&a.channel.push("add_location",{body:H({},e,{longitude:"".concat(t.lngLat[0]),latitude:"".concat(t.lngLat[1])})})}});console.log(a.selfCreatedLocations);return o.a.createElement("div",{className:"mapbox-wrapper"},o.a.createElement(V.b,Object.assign({ref:function(e){return u(e)},mapStyle:"//mvt.opengeo.nl/basemap-style.json"},l,{width:"100%",height:"100%",onViewportChange:function(e){return c(e)}}),Array.from(a.selfCreatedLocations.values()).map(function(e){var a=parseFloat(e.longitude),t=parseFloat(e.latitude);return o.a.createElement(V.a,{key:e.id,longitude:a,latitude:t,offsetTop:-39,offsetLeft:-23,draggable:!0,onDragEnd:g(e)},o.a.createElement(G,null))})),o.a.createElement(p.a,{type:"primary",shape:"circle",icon:"plus",size:"large",onClick:function(){var e=m.getMap().getCenter();a.channel&&a.channel.push("add_location",{body:{latitude:"".concat(e.lat),longitude:"".concat(e.lng)}})},className:"add_location"}))};var J=function(){var e=Object(n.useContext)(x),a=e.state,t=e.dispatch;return Object(n.useEffect)(function(){if(!a.channel){var e=new s.Socket("ws://beespot.westeurope.azurecontainer.io:4000/socket");e.connect(),e.onClose(function(e){return t({type:"setChannel",channel:null})});var n=e.channel("locations:lobby",{});n.join().receive("error",function(){return console.error("Connection error")}).receive("ok",function(){return t({type:"setChannel",channel:n})}),n.push("create_session",{}),n.on("created_session",console.log),n.on("new_location",function(e){t({type:"newLocation",location:e.body})}),n.on("created_location",function(e){t({type:"createdLocation",location:e.body})})}},[]),o.a.createElement("div",{className:"App"},o.a.createElement(c.a,null,o.a.createElement(i.a,{path:"/",exact:!0,component:I}),o.a.createElement(i.a,{path:"/audience",exact:!0,component:g}),o.a.createElement(i.a,{path:"/foodsources",exact:!0,component:b}),o.a.createElement(i.a,{path:"/presentation",exact:!0,component:y}),o.a.createElement(i.a,{path:"/location",exact:!0,component:O}),o.a.createElement(i.a,{path:"/production",exact:!0,component:v}),o.a.createElement(i.a,{path:"/viewer",exact:!0,component:D}),o.a.createElement(i.a,{path:"/add-location",exact:!0,component:z})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(function(e){var a=e.children,t=n.useReducer(C,N),o=Object(w.a)(t,2),r={state:o[0],dispatch:o[1]};return n.createElement(x.Provider,{value:r},a)},null,o.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[159,1,2]]]);
//# sourceMappingURL=main.a5fede7f.chunk.js.map